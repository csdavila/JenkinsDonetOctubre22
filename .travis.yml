language: csharp
mono: none
sudo: required
# dist: xenial
dist: focal
dotnet: 6.0.202
branches:
  only:
    - main
#    - develop
script:
  - dotnet build
  - dotnet test
before_deploy:
  # - rvm $(travis_internal_ruby) --fuzzy do ruby -S gem install faraday -v 1.8.0
  # - rvm $(travis_internal_ruby) --fuzzy do ruby -S gem install dpl
  # - sudo apt-get install python3-venv
  # - sudo apt update
  # - sudo apt install python3 python3-dev python3-venv
  # - sudo apt-get install wget
  # - wget https://bootstrap.pypa.io/pip/3.5/get-pip.py
  # - sudo python3 get-pip.py
  # - export CLOUDSDK_PYTHON=python3.5
  # - pip install --upgrade virtualenv
  # - virtualenv -p python3 venv
# [START travis_deploy]
deploy:
  provider: gae
  # Skip cleanup so api_key.py and vendored dependencies are still there
  skip_cleanup: true
  keyfile: travis-net6-a23-387601-5bf8daab5c01.json
  project: travis-net6-a23
  version: service-demo
  default: true
  on:
    all_branches: true
# [END travis_deploy]
